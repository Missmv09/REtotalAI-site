<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Listing Generator</title>
  <link rel="stylesheet" href="../../css/styles.css" />
</head>
<body>
  <div class="container">
    <h1>Listing Generator</h1>
    <form id="listingForm">
      <label for="propertyType">Property Type</label>
      <select id="propertyType" name="propertyType">
        <option value="House">House</option>
        <option value="Apartment">Apartment</option>
        <option value="Condo">Condo</option>
        <option value="Townhome">Townhome</option>
      </select>

      <label for="beds">Bed</label>
      <input type="number" id="beds" name="beds" min="0" />

      <label for="baths">Bath</label>
      <input type="number" id="baths" name="baths" min="0" />

      <label for="sqft">Sqft</label>
      <input type="number" id="sqft" name="sqft" min="0" />

      <label for="neighborhood">Neighborhood</label>
      <input type="text" id="neighborhood" name="neighborhood" />

      <label for="features">Features</label>
      <textarea id="features" name="features" rows="4"></textarea>

      <button type="submit">Generate Listing</button>
    </form>
    <div id="result"></div>
  </div>

  <script>
    function callOpenAIorZapier(data) {
      // TODO: integrate with OpenAI or Zapier
      console.log('Placeholder call with data:', data);
    }

    document.getElementById('listingForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const data = {
        propertyType: document.getElementById('propertyType').value,
        beds: document.getElementById('beds').value,
        baths: document.getElementById('baths').value,
        sqft: document.getElementById('sqft').value,
        neighborhood: document.getElementById('neighborhood').value,
        features: document.getElementById('features').value,
      };

      const description = `Beautiful ${data.beds}-bed, ${data.baths}-bath ${data.propertyType} with ${data.sqft} sqft located in ${data.neighborhood}. Features include: ${data.features}.`;
      document.getElementById('result').textContent = description;

      callOpenAIorZapier(data);
    });
  </script>
</body>
</html>
